buildscript {
    repositories {
        maven {
            url 'https://plugins.gradle.org/m2/'
        }
    }
    dependencies {
        classpath 'org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.2'
    }
}

apply plugin: 'org.sonarqube'
apply plugin: 'jacoco'
apply plugin: 'groovy'

version = '1.0-SNAPSHOT'
group = 'com.github.moaxcp'

sourceCompatibility = 1.8
targetCompatibility = 1.8

tasks.check.dependsOn 'jacocoTestReport'

jacocoTestReport {
    reports {
        xml.enabled false
        csv.enabled false
        html.destination "${buildDir}/jacocoHtml"
    }
}

repositories {
    jcenter()
}

dependencies {
    compile 'org.codehaus.groovy:groovy-all:2.4.7'
    testCompile 'org.spockframework:spock-core:1.0-groovy-2.4'
}