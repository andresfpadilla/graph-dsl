<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>EdgeDsl.groovy</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">graph-dsl</a> &gt; <a href="index.source.html" class="el_package">graph</a> &gt; <span class="el_source">EdgeDsl.groovy</span></div><h1>EdgeDsl.groovy</h1><pre class="source lang-java linenums">package graph

trait EdgeDsl {

    abstract Edge edge(ConfigSpec spec)

    /**
     * Creates or finds an {@link Edge} between to {@link Vertex} objects returning the {@link Edge}. The
     * {@link Vertex} objects are identified by the params from and to. If the {@link Vertex} objects do not exist they
     * will be created.
     * @param from  the id of the first {@link Vertex}.
     * @param to  the id of the second {@link Vertex}.
     * @return the resulting {@link Edge}.
     * @throws IllegalArgumentException when from or to are invalid
     */
    Edge edge(Object from, Object to) {
<span class="fc bfc" id="L17" title="All 10 branches covered.">        if(!from || !to) {</span>
<span class="fc" id="L18">            throw new IllegalArgumentException(&quot;Invalid from and to.&quot;)</span>
        }
<span class="fc" id="L20">        ConfigSpec spec = new ConfigSpec(map:[from:from, to:to])</span>
<span class="pc" id="L21">        edge(spec)</span>
    }

    /**
     * Creates or finds an {@link Edge} between two {@link Vertex} objects returning the {@link Edge}.The map may
     * contain configuration for the edge. Default configuration options are:
     * &lt;dl&gt;
     *     &lt;dt&gt;from&lt;/dt&gt;
     *     &lt;dd&gt;id of the first {@link Vertex}&lt;/dd&gt;
     *     &lt;dt&gt;to&lt;/dt&gt;
     *     &lt;dd&gt;id of the second {@link Vertex}&lt;/dd&gt;
     *     &lt;dt&gt;changeFrom&lt;/dt&gt;
     *     &lt;dd&gt;If the edge already exists edge.from will become changeFrom. Otherwise edge.from is set to changeFrom
     *     instead of 'from' when it is created.&lt;/dd&gt;
     *     &lt;dt&gt;changeTo&lt;/dt&gt;
     *     &lt;dd&gt;If the edge already exists edge.to will become changeTo. Otherwise edge.to is set to changeTo
     *     instead of 'to' when it is created.&lt;/dd&gt;
     * &lt;/dl&gt;
     * Additional entries may be added by the type of the graph.
     * @param map  used to create an {@link Edge}.
     * @return the resulting {@link Edge}.
     * @see #edge(String one, String two, Closure closure)
     * @throws IllegalArgumentException when one or two are invalid
     */
    Edge edge(Map&lt;String, ?&gt; map) {
<span class="pc bpc" id="L46" title="5 of 10 branches missed.">        if(!map.from || !map.to) {</span>
<span class="nc" id="L47">            throw new IllegalArgumentException(&quot;Invalid from and to.&quot;)</span>
        }
<span class="fc" id="L49">        ConfigSpec spec = new ConfigSpec(map:map)</span>
<span class="pc" id="L50">        edge(spec)</span>
    }

    /**
     * Creates or finds an {@link Edge} between to {@link Vertex} objects returning the {@link Edge}. The map contains
     * configuration described in {@link #edge(Map)}. If 'from' or 'to' are entries in map those values will be used
     * instead of the parameters.
     * @param from  the id of the first {@link Vertex}.
     * @param to  the id of the second {@link Vertex}.
     * @param map  used to create an {@link Edge}.
     * @return the resulting {@link Edge}.
     * @throws IllegalArgumentException when from or to are invalid
     */
    Edge edge(Object from, Object to, Map&lt;String, ?&gt; map) {
<span class="pc bpc" id="L64" title="5 of 10 branches missed.">        if(!from || !to) {</span>
<span class="nc" id="L65">            throw new IllegalArgumentException(&quot;Invalid from and to.&quot;)</span>
        }
<span class="fc bfc" id="L67" title="All 2 branches covered.">        map.from = map.from ?: from</span>
<span class="fc bfc" id="L68" title="All 2 branches covered.">        map.to = map.to ?: to</span>
<span class="fc" id="L69">        ConfigSpec spec = new ConfigSpec(map:map)</span>
<span class="pc" id="L70">        edge(spec)</span>
    }

    /**
     * Creates or finds an {@link Edge} between to {@link Vertex} objects returning the {@link Edge}. {@code Closure}
     * is used to further customize the edge and graph. In the closure getting and setting properties delegates to the
     * edge. Methods also delegate to the edge.
     * &lt;p&gt;
     * Variables accessible within the closure:
     * &lt;dl&gt;
     *     &lt;dt&gt;{@code graph}&lt;/dt&gt;
     *     &lt;dd&gt;{@link Graph} edge was added to&lt;/dd&gt;
     *     &lt;dt&gt;{@code edge}&lt;/dt&gt;
     *     &lt;dd&gt;{@link Edge} added to graph&lt;/dd&gt;
     * &lt;/dl&gt;
     * Attempting to set 'from' or 'to' will throw an exception. Use the {@code changeFrom} and {@code changeTo} methods.
     * &lt;p&gt;
     * By default there are several methods available in the closure.
     * &lt;p&gt;
     * &lt;dl&gt;
     *     &lt;dt&gt;{@code void changeFrom(String changeFrom)}&lt;/dt&gt;
     *     &lt;dd&gt;Changes edge.from&lt;/dd&gt;
     *     &lt;dt&gt;{@code void changeTo(String changeTo)}&lt;/dt&gt;
     *     &lt;dd&gt;Changes edge.to&lt;/dd&gt;
     *     &lt;dt&gt;{@code void traits(Class... traits)}&lt;/dt&gt;
     *     &lt;dd&gt;Applies a trait the edge's delegate&lt;/dd&gt;
     * &lt;/dl&gt;
     * Plugins may add variables and methods to the passed in closure.
     * @param from  the id of the first {@link Vertex}.
     * @param to  the id of the second {@link Vertex}.
     * @param closure  to run.
     * @return the resulting {@link Edge}.
     * @throws IllegalArgumentException when from or to are invalid
     */
    Edge edge(Object from, Object to, @DelegatesTo(EdgeSpec) Closure closure) {
<span class="pc bpc" id="L105" title="5 of 10 branches missed.">        if(!from || !to) {</span>
<span class="nc" id="L106">            throw new IllegalArgumentException(&quot;Invalid from and to.&quot;)</span>
        }
<span class="fc" id="L108">        ConfigSpec spec = new ConfigSpec(map:[from:from, to:to], closure:closure)</span>
<span class="pc" id="L109">        edge(spec)</span>
    }

    /**
     * Creates or finds an {@link Edge} between two {@link Vertex} objects returning the {@link Edge}. The map contains
     * configuration described in {@link #edge(Map)}. The configuration given by the closure is described in
     * {@link #edge(String, String, Closure)}. If one or two are entries in map those values will be used
     * instead of the parameters.
     * @param map  used to create an {@link Edge}.
     * @param closure  to run.
     * @return the resulting {@link Edge}.
     * @throws IllegalArgumentException when map.from or map.to are invalid
     */
    Edge edge(Map&lt;String, ?&gt; map, @DelegatesTo(EdgeSpec) Closure closure) {
<span class="pc bpc" id="L123" title="5 of 10 branches missed.">        if(!map.from || !map.to) {</span>
<span class="nc" id="L124">            throw new IllegalArgumentException(&quot;Invalid from and to.&quot;)</span>
        }
<span class="fc" id="L126">        ConfigSpec spec = new ConfigSpec(map:map, closure:closure)</span>
<span class="pc" id="L127">        edge(spec)</span>
    }

    /**
     * Creates or finds an {@link Edge} between to {@link Vertex} objects returning the {@link Edge}. The map contains
     * configuration described in {@link #edge(Map)}. If from or to are entries in map those values will be used
     * instead of the parameters. The configuration given by the closure is described in
     * {@link #edge(String, String, Closure)}.
     * @param from  the id of the first {@link Vertex}.
     * @param to  the id of the second {@link Vertex}.
     * @param map  used to create an {@link Edge}.
     * @param closure  to run.
     * @return the resulting {@link Edge}.
     * @throws IllegalArgumentException when from or to are invalid
     */
    Edge edge(Object from, Object to, Map&lt;String, ?&gt; map, @DelegatesTo(EdgeSpec) Closure closure) {
<span class="pc bpc" id="L143" title="5 of 10 branches missed.">        if(!from || !to) {</span>
<span class="nc" id="L144">            throw new IllegalArgumentException(&quot;Invalid from and to.&quot;)</span>
        }
<span class="fc bfc" id="L146" title="All 2 branches covered.">        map.from = map.from ?: from</span>
<span class="fc bfc" id="L147" title="All 2 branches covered.">        map.to = map.to ?: to</span>
<span class="fc" id="L148">        ConfigSpec spec = new ConfigSpec(map:map, closure:closure)</span>
<span class="pc" id="L149">        edge(spec)</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>